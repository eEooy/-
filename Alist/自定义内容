<!--延迟加载-->
<!--如果要写自定义内容建议都加到这个延迟加载的范围内-->
<div id="customize" style="display: none;">
    <div>
        <!--鼠标点击特效 - 爱心-->
        <script type="text/javascript">
            !function (e, t, a) {
                function r() {
                    for (var e = 0; e < s.length; e++) s[e].alpha <= 0 ? (t.body.removeChild(s[e].el), s.splice(e, 1)) : (s[
                            e].y--, s[e].scale += .004, s[e].alpha -= .013, s[e].el.style.cssText = "left:" + s[e].x +
                        "px;top:" + s[e].y + "px;opacity:" + s[e].alpha + ";transform:scale(" + s[e].scale + "," + s[e]
                        .scale + ") rotate(45deg);background:" + s[e].color + ";z-index:99999");
                    requestAnimationFrame(r)
                }
                function n() {
                    var t = "function" == typeof e.onclick && e.onclick;
                    e.onclick = function (e) {
                        t && t(), o(e)
                    }
                }

                function o(e) {
                    var a = t.createElement("div");
                    a.className = "heart", s.push({
                        el: a,
                        x: e.clientX - 5,
                        y: e.clientY - 5,
                        scale: 1,
                        alpha: 1,
                        color: c()
                    }), t.body.appendChild(a)
                }

                function i(e) {
                    var a = t.createElement("style");
                    a.type = "text/css";
                    try {
                        a.appendChild(t.createTextNode(e))
                    } catch (t) {
                        a.styleSheet.cssText = e
                    }
                    t.getElementsByTagName("head")[0].appendChild(a)
                }

                function c() {
                    return "rgb(" + ~~(255 * Math.random()) + "," + ~~(255 * Math.random()) + "," + ~~(255 * Math
                        .random()) + ")"
                }
                var s = [];
                e.requestAnimationFrame = e.requestAnimationFrame || e.webkitRequestAnimationFrame || e
                    .mozRequestAnimationFrame || e.oRequestAnimationFrame || e.msRequestAnimationFrame || function (e) {
                        setTimeout(e, 1e3 / 60)
                    }, i(
                        ".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"
                    ), n(), r()
            }(window, document);
        </script>
        
        <br />
        <center class="dibu">
            <div style=" line-height: 20px;font-size: 9pt;font-weight: bold;">
                <span>
                    "
                    <span style="color: rgb(13, 109, 252); font-weight: bold;" id="hitokoto">
                        <a href="#" id="hitokoto_text">
                            "人生最大的遗憾,就是在最无能为力的时候遇到一个想要保护一生的人."
                        </a>
                    </span> "
                </span>
                <p style="margin-left: 10rem;font-size: 8pt;">
                    <small>
                        —— Anwen's Cloud
                    </small>
                </p>
            </div>

            <div style="font-size: 15px; font-weight: bold;">
                <span class="nav-item">
                    <a class="nav-link" href="mailto:699996@protonmail.com" target="_blank">
                        <i class="fa-duotone fa-envelope-open" style="color:#409EFF" aria-hidden="true"></i>
                        邮箱 |
                    </a>
                </span>
                <span class="nav-item">
                    <a class="nav-link" href="xxxxxx" target="_blank">
                        <i class="fas fa-edit" style="color:#409EFF" aria-hidden="true"></i>
                        博客 |
                    </a>
                </span>
                <span class="nav-item">
                    <a class="nav-link" href="/@manage" target="_blank">
                        <i class="fa-solid fa-folder-gear" style="color:#409EFF;" aria-hidden="true"></i>
                        管理 |
                    </a>
                </span>
                <span class="nav-item">
                    <a class="nav-link" href="https://github.com/Xhofe/alist" target="_blank">
                        <i class="fa-solid fa-copyright" style="color:#409EFF;" aria-hidden="true"></i>
                        Alist
                    </a>
                </span>
            </div>
        </center>
        <br />
        <br />
    </div>

    <!--设备检测和动态背景-->
    <script src="https://cdn.jsdelivr.net/gh/huangwb8/bloghelper@latest/js/mobile-detect.js"></script>
    <script>
        // 设备检测
        var md = new MobileDetect(window.navigator.userAgent);

        // 更新频率，以毫秒为单位
        const updateFrequency = 86400000; // 示例：每天更新。可以调整为每分钟等

        // 资源基础URL和资源数量
        const baseVideoUrl =
            "http://res.fatfoxtab.com/public/res/wallpaper-dynamic/wallpaper-dynamic-"; //视频URL
        const videoCount = 25; //有多少个视频
        const baseImageUrl =
            "在这里换成你的图片URL"; //图片URL
        const imageCount = 44; //有多少个图片

        function updateBackground() {
            const index = Math.floor(new Date().getTime() / updateFrequency);
            if (!md.phone() && !md.tablet()) {
                // 非移动设备，使用视频背景
                updateVideoBackground(index);
            } else {
                // 移动设备，使用图片背景
                updateImageBackground(index);
                window.onload = updateBackground; // 当页面加载或刷新时调用updateBackground
            }
        }

        function updateVideoBackground(index) {
            let videoContainer = document.querySelector(
                ".video-background-container"
            );
            if (!videoContainer) {
                videoContainer = document.createElement("div");
                videoContainer.className = "video-background-container";
                videoContainer.innerHTML =
                    '<video autoplay muted loop style="position: fixed; right: 0; bottom: 0; min-width: 100%; min-height: 100%; object-fit: cover; z-index: -1000;"></video>';
                document.body.prepend(videoContainer);
            }
            const videoIndex = (index % videoCount) + 1;
            videoContainer.querySelector(
                "video"
            ).src = `${baseVideoUrl}${videoIndex}.mp4`;
        }

        function updateImageBackground(index) {
            const imageIndex = (index % imageCount) + 1;
            const imageUrl = `${baseImageUrl}${imageIndex}.jpg`;
            document
                .querySelectorAll(".hope-ui-light, .hope-ui-dark")
                .forEach((element) => {
                    element.style.backgroundImage = `url("${imageUrl}")`;
                });
        }

        // 页面加载时和定时更新背景
        document.addEventListener("DOMContentLoaded", updateBackground);
        setInterval(updateBackground, updateFrequency);
    </script>

    <!--一言API-->
    <script src="https://v1.hitokoto.cn/?encode=js&select=%23hitokoto" defer></script>
<!--延迟加载范围到这里结束-->
</div>

<!--延迟加载配套使用JS-->
<script>
    let interval = setInterval(() => {
        if (document.querySelector(".footer")) {
            document.querySelector("#customize").style.display = "";
            clearInterval(interval);
        }
    }, 200);
</script>

<!-- 渐变背景初始化,如果要使用渐变背景把下面的那一行注释去掉即可-->
<!-- 下面的几行都是渐变的一套,自定义头部内还有一个关联的自定义CSS -->
<!--<canvas id="canvas-basic"></canvas> -->
<script src="https://npm.elemecdn.com/granim@2.0.0/dist/granim.min.js"></script>
<script>
    var granimInstance = new Granim({
        element: '#canvas-basic',
        direction: 'left-right',
        isPausedWhenNotInView: true,
        states: {
            "default-state": {
                gradients: [
                    ['#a18cd1', '#fbc2eb'],
                    ['#fff1eb', '#ace0f9'],
                    ['#d4fc79', '#96e6a1'],
                    ['#a1c4fd', '#c2e9fb'],
                    ['#a8edea', '#fed6e3'],
                    ['#9890e3',